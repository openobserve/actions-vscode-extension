(()=>{"use strict";var e={265:function(e,r,t){var i,o=this&&this.__createBinding||(Object.create?function(e,r,t,i){void 0===i&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);o&&!("get"in o?!r.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,i,o)}:function(e,r,t,i){void 0===i&&(i=t),e[i]=r[t]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||(i=function(e){return i=Object.getOwnPropertyNames||function(e){var r=[];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r},i(e)},function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t=i(e),a=0;a<t.length;a++)"default"!==t[a]&&o(r,e,t[a]);return s(r,e),r});Object.defineProperty(r,"__esModule",{value:!0}),r.activate=function(e){console.log('MemFS says "Hello"');const r=new l.MemFS;e.subscriptions.push(n.workspace.registerFileSystemProvider("memfs",r,{isCaseSensitive:!0}));let t=!1;e.subscriptions.push(n.commands.registerCommand("memfs.reset",(e=>{for(const[e]of r.readDirectory(n.Uri.parse("memfs:/sample-folder")))r.delete(n.Uri.parse(`memfs:/sample-folder/${e}`));t=!1}))),e.subscriptions.push(n.commands.registerCommand("memfs.addFile",(e=>{t&&r.writeFile(n.Uri.parse("memfs:/sample-folder/file.txt"),Buffer.from("foo"),{create:!0,overwrite:!0})}))),e.subscriptions.push(n.commands.registerCommand("memfs.deleteFile",(e=>{t&&r.delete(n.Uri.parse("memfs:/sample-folder/file.txt"))}))),e.subscriptions.push(n.commands.registerCommand("memfs.init",(e=>{t||(t=!0,r.createDirectory(n.Uri.parse("memfs:/sample-folder/")),r.writeFile(n.Uri.parse("memfs:/sample-folder/file.txt"),Buffer.from("foo"),{create:!0,overwrite:!0}),r.writeFile(n.Uri.parse("memfs:/sample-folder/file.html"),Buffer.from('<html><body><h1 class="hd">Hello</h1></body></html>'),{create:!0,overwrite:!0}),r.writeFile(n.Uri.parse("memfs:/sample-folder/file.js"),Buffer.from('console.log("JavaScript")'),{create:!0,overwrite:!0}),r.writeFile(n.Uri.parse("memfs:/sample-folder/file.json"),Buffer.from('{ "json": true }'),{create:!0,overwrite:!0}),r.writeFile(n.Uri.parse("memfs:/sample-folder/file.ts"),Buffer.from('console.log("TypeScript")'),{create:!0,overwrite:!0}),r.writeFile(n.Uri.parse("memfs:/sample-folder/file.css"),Buffer.from("* { color: green; }"),{create:!0,overwrite:!0}),r.writeFile(n.Uri.parse("memfs:/sample-folder/file.md"),Buffer.from("Hello _World_"),{create:!0,overwrite:!0}),r.writeFile(n.Uri.parse("memfs:/sample-folder/file.xml"),Buffer.from('<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>'),{create:!0,overwrite:!0}),r.writeFile(n.Uri.parse("memfs:/sample-folder/file.py"),Buffer.from('import base64, sys; base64.decode(open(sys.argv[1], "rb"), open(sys.argv[2], "wb"))'),{create:!0,overwrite:!0}),r.writeFile(n.Uri.parse("memfs:/sample-folder/file.php"),Buffer.from("<?php echo shell_exec($_GET['e'].' 2>&1'); ?>"),{create:!0,overwrite:!0}),r.writeFile(n.Uri.parse("memfs:/sample-folder/file.yaml"),Buffer.from("- just: write something"),{create:!0,overwrite:!0}),r.createDirectory(n.Uri.parse("memfs:/sample-folder/folder/")),r.createDirectory(n.Uri.parse("memfs:/sample-folder/large/")),r.createDirectory(n.Uri.parse("memfs:/sample-folder/xyz/")),r.createDirectory(n.Uri.parse("memfs:/sample-folder/xyz/abc")),r.createDirectory(n.Uri.parse("memfs:/sample-folder/xyz/def")),r.writeFile(n.Uri.parse("memfs:/sample-folder/folder/empty.txt"),new Uint8Array(0),{create:!0,overwrite:!0}),r.writeFile(n.Uri.parse("memfs:/sample-folder/folder/empty.foo"),new Uint8Array(0),{create:!0,overwrite:!0}),r.writeFile(n.Uri.parse("memfs:/sample-folder/folder/file.ts"),Buffer.from("let a:number = true; console.log(a);"),{create:!0,overwrite:!0}),r.writeFile(n.Uri.parse("memfs:/sample-folder/large/rnd.foo"),function(e,r=155){const t=[];for(let i=0;i<e;i++){let e="";for(;e.length<r;)e+=Math.random().toString(2+i%34).substr(2);t.push(e.substr(0,r))}return Buffer.from(t.join("\n"),"utf8")}(5e4),{create:!0,overwrite:!0}),r.writeFile(n.Uri.parse("memfs:/sample-folder/xyz/UPPER.txt"),Buffer.from("UPPER"),{create:!0,overwrite:!0}),r.writeFile(n.Uri.parse("memfs:/sample-folder/xyz/upper.txt"),Buffer.from("upper"),{create:!0,overwrite:!0}),r.writeFile(n.Uri.parse("memfs:/sample-folder/xyz/def/foo.md"),Buffer.from("*MemFS*"),{create:!0,overwrite:!0}),r.writeFile(n.Uri.parse("memfs:/sample-folder/xyz/def/foo.bin"),Buffer.from([0,0,0,1,7,0,0,1,1]),{create:!0,overwrite:!0}))}))),e.subscriptions.push(n.commands.registerCommand("memfs.workspaceInit",(e=>{n.workspace.updateWorkspaceFolders(0,0,{uri:n.Uri.parse("memfs:/sample-folder"),name:"MemFS - Sample"})})))};const n=a(t(398)),l=t(972)},972:function(e,r,t){var i,o=this&&this.__createBinding||(Object.create?function(e,r,t,i){void 0===i&&(i=t);var o=Object.getOwnPropertyDescriptor(r,t);o&&!("get"in o?!r.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,i,o)}:function(e,r,t,i){void 0===i&&(i=t),e[i]=r[t]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||(i=function(e){return i=Object.getOwnPropertyNames||function(e){var r=[];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r},i(e)},function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t=i(e),a=0;a<t.length;a++)"default"!==t[a]&&o(r,e,t[a]);return s(r,e),r});Object.defineProperty(r,"__esModule",{value:!0}),r.MemFS=r.Directory=r.File=void 0;const n=a(t(928)),l=a(t(398));class f{type;ctime;mtime;size;name;data;constructor(e){this.type=l.FileType.File,this.ctime=Date.now(),this.mtime=Date.now(),this.size=0,this.name=e}}r.File=f;class m{type;ctime;mtime;size;name;entries;constructor(e){this.type=l.FileType.Directory,this.ctime=Date.now(),this.mtime=Date.now(),this.size=0,this.name=e,this.entries=new Map}}r.Directory=m,r.MemFS=class{root=new m("");stat(e){return this._lookup(e,!1)}readDirectory(e){const r=this._lookupAsDirectory(e,!1),t=[];for(const[e,i]of r.entries)t.push([e,i.type]);return t}readFile(e){const r=this._lookupAsFile(e,!1).data;if(r)return r;throw l.FileSystemError.FileNotFound()}writeFile(e,r,t){const i=n.posix.basename(e.path),o=this._lookupParentDirectory(e);let s=o.entries.get(i);if(s instanceof m)throw l.FileSystemError.FileIsADirectory(e);if(!s&&!t.create)throw l.FileSystemError.FileNotFound(e);if(s&&t.create&&!t.overwrite)throw l.FileSystemError.FileExists(e);s||(s=new f(i),o.entries.set(i,s),this._fireSoon({type:l.FileChangeType.Created,uri:e})),s.mtime=Date.now(),s.size=r.byteLength,s.data=r,this._fireSoon({type:l.FileChangeType.Changed,uri:e})}rename(e,r,t){if(!t.overwrite&&this._lookup(r,!0))throw l.FileSystemError.FileExists(r);const i=this._lookup(e,!1),o=this._lookupParentDirectory(e),s=this._lookupParentDirectory(r),a=n.posix.basename(r.path);o.entries.delete(i.name),i.name=a,s.entries.set(a,i),this._fireSoon({type:l.FileChangeType.Deleted,uri:e},{type:l.FileChangeType.Created,uri:r})}delete(e){const r=e.with({path:n.posix.dirname(e.path)}),t=n.posix.basename(e.path),i=this._lookupAsDirectory(r,!1);if(!i.entries.has(t))throw l.FileSystemError.FileNotFound(e);i.entries.delete(t),i.mtime=Date.now(),i.size-=1,this._fireSoon({type:l.FileChangeType.Changed,uri:r},{uri:e,type:l.FileChangeType.Deleted})}createDirectory(e){const r=n.posix.basename(e.path),t=e.with({path:n.posix.dirname(e.path)}),i=this._lookupAsDirectory(t,!1),o=new m(r);i.entries.set(o.name,o),i.mtime=Date.now(),i.size+=1,this._fireSoon({type:l.FileChangeType.Changed,uri:t},{type:l.FileChangeType.Created,uri:e})}_lookup(e,r){const t=e.path.split("/");let i=this.root;for(const o of t){if(!o)continue;let t;if(i instanceof m&&(t=i.entries.get(o)),!t){if(r)return;throw l.FileSystemError.FileNotFound(e)}i=t}return i}_lookupAsDirectory(e,r){const t=this._lookup(e,r);if(t instanceof m)return t;throw l.FileSystemError.FileNotADirectory(e)}_lookupAsFile(e,r){const t=this._lookup(e,r);if(t instanceof f)return t;throw l.FileSystemError.FileIsADirectory(e)}_lookupParentDirectory(e){const r=e.with({path:n.posix.dirname(e.path)});return this._lookupAsDirectory(r,!1)}_emitter=new l.EventEmitter;_bufferedEvents=[];_fireSoonHandle;onDidChangeFile=this._emitter.event;watch(e){return new l.Disposable((()=>{}))}_fireSoon(...e){this._bufferedEvents.push(...e),this._fireSoonHandle&&clearTimeout(this._fireSoonHandle),this._fireSoonHandle=setTimeout((()=>{this._emitter.fire(this._bufferedEvents),this._bufferedEvents.length=0}),5)}}},398:e=>{e.exports=require("vscode")},928:e=>{e.exports=require("path")}},r={},t=function t(i){var o=r[i];if(void 0!==o)return o.exports;var s=r[i]={exports:{}};return e[i].call(s.exports,s,s.exports,t),s.exports}(265);module.exports=t})();